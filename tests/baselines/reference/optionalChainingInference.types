//// [tests/cases/conformance/expressions/optionalChaining/optionalChainingInference.ts] ////

=== optionalChainingInference.ts ===
// https://github.com/microsoft/TypeScript/issues/34579
declare function unbox<T>(box: { value: T | undefined }): T;
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^ ^^^^^^^                         ^^^^^ 
>box : { value: T | undefined; }
>    : ^^^^^^^^^             ^^^
>value : T | undefined
>      : ^^^^^^^^^^^^^

declare const su: string | undefined;
>su : string | undefined
>   : ^^^^^^^^^^^^^^^^^^

declare const fnu: (() => number) | undefined;
>fnu : (() => number) | undefined
>    : ^^^^^^^      ^^^^^^^^^^^^^

declare const osu: { prop: string } | undefined;
>osu : { prop: string; } | undefined
>    : ^^^^^^^^      ^^^^^^^^^^^^^^^
>prop : string
>     : ^^^^^^

declare const ofnu: { prop: () => number } | undefined;
>ofnu : { prop: () => number; } | undefined
>     : ^^^^^^^^            ^^^^^^^^^^^^^^^
>prop : () => number
>     : ^^^^^^      

const b1 = { value: su?.length };
>b1 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>{ value: su?.length } : { value: number | undefined; }
>                      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>su?.length : number | undefined
>           : ^^^^^^^^^^^^^^^^^^
>su : string | undefined
>   : ^^^^^^^^^^^^^^^^^^
>length : number | undefined
>       : ^^^^^^^^^^^^^^^^^^

const v1: number = unbox(b1);
>v1 : number
>   : ^^^^^^
>unbox(b1) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b1 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

const b2 = { value: su?.length as number | undefined };
>b2 : { value: number | undefined; }
>   : ^^^^^^^^^                  ^^^
>{ value: su?.length as number | undefined } : { value: number | undefined; }
>                                            : ^^^^^^^^^                  ^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>su?.length as number | undefined : number | undefined
>                                 : ^^^^^^^^^^^^^^^^^^
>su?.length : number | undefined
>           : ^^^^^^^^^^^^^^^^^^
>su : string | undefined
>   : ^^^^^^^^^^^^^^^^^^
>length : number | undefined
>       : ^^^^^^^^^^^^^^^^^^

const v2: number = unbox(b2);
>v2 : number
>   : ^^^^^^
>unbox(b2) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b2 : { value: number | undefined; }
>   : ^^^^^^^^^                  ^^^

const b3: { value: number | undefined } = { value: su?.length };
>b3 : { value: number | undefined; }
>   : ^^^^^^^^^                  ^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>{ value: su?.length } : { value: number | undefined; }
>                      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>su?.length : number | undefined
>           : ^^^^^^^^^^^^^^^^^^
>su : string | undefined
>   : ^^^^^^^^^^^^^^^^^^
>length : number | undefined
>       : ^^^^^^^^^^^^^^^^^^

const v3: number = unbox(b3);
>v3 : number
>   : ^^^^^^
>unbox(b3) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b3 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

const b4 = { value: fnu?.() };
>b4 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>{ value: fnu?.() } : { value: number | undefined; }
>                   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>fnu?.() : number | undefined
>        : ^^^^^^^^^^^^^^^^^^
>fnu : (() => number) | undefined
>    : ^^^^^^^^^^^^^^^^^^^^^^^^^^

const v4: number = unbox(b4);
>v4 : number
>   : ^^^^^^
>unbox(b4) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b4 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

const b5 = { value: su?.["length"] };
>b5 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>{ value: su?.["length"] } : { value: number | undefined; }
>                          : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>su?.["length"] : number | undefined
>               : ^^^^^^^^^^^^^^^^^^
>su : string | undefined
>   : ^^^^^^^^^^^^^^^^^^
>"length" : "length"
>         : ^^^^^^^^

const v5: number = unbox(b5);
>v5 : number
>   : ^^^^^^
>unbox(b5) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b5 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

const b6 = { value: osu?.prop.length };
>b6 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>{ value: osu?.prop.length } : { value: number | undefined; }
>                            : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>osu?.prop.length : number | undefined
>                 : ^^^^^^^^^^^^^^^^^^
>osu?.prop : string | undefined
>          : ^^^^^^^^^^^^^^^^^^
>osu : { prop: string; } | undefined
>    : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>prop : string | undefined
>     : ^^^^^^^^^^^^^^^^^^
>length : number | undefined
>       : ^^^^^^^^^^^^^^^^^^

const v6: number = unbox(b6);
>v6 : number
>   : ^^^^^^
>unbox(b6) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b6 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

const b7 = { value: osu?.prop["length"] };
>b7 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>{ value: osu?.prop["length"] } : { value: number | undefined; }
>                               : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>osu?.prop["length"] : number | undefined
>                    : ^^^^^^^^^^^^^^^^^^
>osu?.prop : string | undefined
>          : ^^^^^^^^^^^^^^^^^^
>osu : { prop: string; } | undefined
>    : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>prop : string | undefined
>     : ^^^^^^^^^^^^^^^^^^
>"length" : "length"
>         : ^^^^^^^^

const v7: number = unbox(b7);
>v7 : number
>   : ^^^^^^
>unbox(b7) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b7 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

const b8 = { value: ofnu?.prop() };
>b8 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>{ value: ofnu?.prop() } : { value: number | undefined; }
>                        : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>value : number | undefined
>      : ^^^^^^^^^^^^^^^^^^
>ofnu?.prop() : number | undefined
>             : ^^^^^^^^^^^^^^^^^^
>ofnu?.prop : (() => number) | undefined
>           : ^^^^^^^^^^^^^^^^^^^^^^^^^^
>ofnu : { prop: () => number; } | undefined
>     : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>prop : (() => number) | undefined
>     : ^^^^^^^^^^^^^^^^^^^^^^^^^^

const v8: number = unbox(b8);
>v8 : number
>   : ^^^^^^
>unbox(b8) : number
>          : ^^^^^^
>unbox : <T>(box: { value: T | undefined; }) => T
>      : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>b8 : { value: number | undefined; }
>   : ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


