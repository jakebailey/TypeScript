fixingTypeParametersRepeatedly2.ts(2,5): error TS7008: Member 'baseProp' implicitly has an 'any' type.
fixingTypeParametersRepeatedly2.ts(11,18): error TS2454: Variable 'derived' is used before being assigned.
fixingTypeParametersRepeatedly2.ts(11,32): error TS2741: Property 'toBase' is missing in type 'Base' but required in type 'Derived'.
fixingTypeParametersRepeatedly2.ts(17,18): error TS2454: Variable 'derived' is used before being assigned.
fixingTypeParametersRepeatedly2.ts(17,32): error TS2769: No overload matches this call.
  Overload 1 of 2, '(x: Derived, func: (p: Derived) => Derived): Derived', gave the following error.
    Type 'Base' is not assignable to type 'Derived'.
  Overload 2 of 2, '(x: Derived, func: (p: Derived) => Derived): Derived', gave the following error.
    Type 'Base' is not assignable to type 'Derived'.


==== fixingTypeParametersRepeatedly2.ts (5 errors) ====
    interface Base {
        baseProp;
        ~~~~~~~~
!!! error TS7008: Member 'baseProp' implicitly has an 'any' type.
    }
    interface Derived extends Base {
        toBase(): Base;
    }
    
    var derived: Derived;
    
    declare function foo<T>(x: T, func: (p: T) => T): T;
    var result = foo(derived, d => d.toBase());
                     ~~~~~~~
!!! error TS2454: Variable 'derived' is used before being assigned.
                                   ~~~~~~~~~~
!!! error TS2741: Property 'toBase' is missing in type 'Base' but required in type 'Derived'.
!!! related TS2728 fixingTypeParametersRepeatedly2.ts:5:5: 'toBase' is declared here.
!!! related TS6502 fixingTypeParametersRepeatedly2.ts:10:37: The expected type comes from the return type of this signature.
    
    // bar should type check just like foo.
    // The same error should be observed in both cases.
    declare function bar<T>(x: T, func: (p: T) => T): T;
    declare function bar<T>(x: T, func: (p: T) => T): T;
    var result = bar(derived, d => d.toBase());
                     ~~~~~~~
!!! error TS2454: Variable 'derived' is used before being assigned.
                                   ~~~~~~~~~~
!!! error TS2769: No overload matches this call.
!!! error TS2769:   Overload 1 of 2, '(x: Derived, func: (p: Derived) => Derived): Derived', gave the following error.
!!! error TS2769:     Type 'Base' is not assignable to type 'Derived'.
!!! error TS2769:   Overload 2 of 2, '(x: Derived, func: (p: Derived) => Derived): Derived', gave the following error.
!!! error TS2769:     Type 'Base' is not assignable to type 'Derived'.
!!! related TS6502 fixingTypeParametersRepeatedly2.ts:15:37: The expected type comes from the return type of this signature.
!!! related TS6502 fixingTypeParametersRepeatedly2.ts:16:37: The expected type comes from the return type of this signature.